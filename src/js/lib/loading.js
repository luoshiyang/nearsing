(function(w){
    var m = {};
        m.init = function(){
            this.wrapper = document.querySelector('.loading-wrapper');
            this.wrap = document.querySelector('.loading-wrap');
            if(!this.wrapper){
                var tag = document.body;
                this.wrapper = document.createElement('div');
                this.wrap = document.createElement('div');
                var title = document.createElement('p');
                this.wrapper.classList = 'loading-wrapper hide';
                this.wrap.classList = 'loading-wrap';
                title.classList = 'blue-padded-t-10';
                this.wrap.innerHTML = '<svg class="icon-loading" width="48px" height="48px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M923.851581 338.007247c-20.012799-47.313585-47.717791-90.324168-82.448804-128.128169 6.875594-13.544481 10.753925-28.866445 10.753925-45.096081 0-55.099922-44.667316-99.767238-99.767238-99.767238-29.051663 0-55.19816 12.420891-73.431429 32.237215-53.058426-21.390169-109.183701-32.237215-166.958546-32.237215-60.334133 0-118.873388 11.821233-173.98866 35.134195-53.232388 22.51376-101.031021 54.741765-142.073786 95.78453-41.045835 41.043788-73.272817 88.844467-95.785553 142.073786C76.837504 393.126612 65.014224 451.665867 65.014224 512.001023c0 60.33311 11.82328 118.873388 35.134195 173.989683 22.51376 53.230342 54.741765 101.029998 95.785553 142.073786 41.041742 41.043788 88.841398 73.27077 142.073786 95.785553 55.116295 23.311939 113.65555 35.134195 173.989683 35.134195s118.873388-11.822257 173.992753-35.134195c53.229319-22.514783 101.029998-54.742788 142.072763-95.785553 41.045835-41.043788 73.272817-88.843444 95.785553-142.073786 23.309892-55.116295 35.134195-113.656573 35.134195-173.989683C958.985776 451.665867 947.161473 393.127635 923.851581 338.007247zM887.891578 670.783353c-20.545942 48.575322-49.960879 92.203982-87.430258 129.676431-37.473473 37.470403-81.100086 66.88841-129.679501 87.432305-50.28015 21.263279-103.702873 32.047904-158.783353 32.047904-55.07741 0-108.500133-10.782577-158.785399-32.047904-48.575322-20.545942-92.203982-49.961902-129.676431-87.432305-37.47245-37.47245-66.88841-81.101109-87.430258-129.676431-21.267373-50.28015-32.050973-103.703897-32.050973-158.784376s10.783601-108.503203 32.050973-158.783353c20.541849-48.575322 49.958832-92.206028 87.430258-129.676431 37.47245-37.470403 81.101109-66.887386 129.676431-87.433328 50.285267-21.266349 103.70799-32.04995 158.785399-32.04995 50.600445 0 99.797937 9.107425 146.447397 27.074635-3.767813 10.514471-5.824659 21.842471-5.824659 33.653471 0 55.099922 44.667316 99.767238 99.767238 99.767238 24.573675 0 47.065945-8.889461 64.452941-23.620977 29.737278 33.372062 53.603849 71.037916 71.050196 112.285343 21.266349 50.28015 32.04995 103.702873 32.04995 158.783353S909.15895 620.503203 887.891578 670.783353z" /></svg>';
                title.innerHTML = '正在加载中';
                this.wrap.appendChild(title);
                this.wrapper.appendChild(this.wrap);
                tag.appendChild(this.wrapper);
            }
            // console.log(this);
            m.show();
            m.event();
        }
        m.show = function(){
            this.wrapper.classList.remove('hide');
            this.wrapper.classList.add('loading-show');
        }
        m.hide = function(){
            this.wrapper.classList.add('hide');
            this.wrapper.classList.remove('loading-show');
        }
        m.event = function(){
            this.wrapper.addEventListener('click',function(){
                m.hide();
            });
        }
    var Loading = function () {
        this.init();
    }
    /**
     * 创建Loading构造函数，内置方法定义好之后，再实例化对象。“类”里面包含了之前定义好的方法。此方法需要new实例化构造函数。
     * 上面的m定义了一个空对象，等价于 new Object();因此是在定义内置方法前，就实例化了对象。该对象的原型里不包含之后添加的方法。此方法不需要new，可直接调用
     */
    // Loading.prototype = {
    //     init: function(){
    //         var tag = document.body;
    //         this.wrapper = document.createElement('div');
    //         var wrap = document.createElement('div');
    //         var title = document.createElement('p');
    //         this.wrapper.classList = 'loading-wrapper hide';
    //         wrap.classList = 'loading-wrap';
    //         title.classList = 'blue-padded-t-10';
    //         wrap.innerHTML = '<svg class="icon-loading" width="48px" height="48px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M923.851581 338.007247c-20.012799-47.313585-47.717791-90.324168-82.448804-128.128169 6.875594-13.544481 10.753925-28.866445 10.753925-45.096081 0-55.099922-44.667316-99.767238-99.767238-99.767238-29.051663 0-55.19816 12.420891-73.431429 32.237215-53.058426-21.390169-109.183701-32.237215-166.958546-32.237215-60.334133 0-118.873388 11.821233-173.98866 35.134195-53.232388 22.51376-101.031021 54.741765-142.073786 95.78453-41.045835 41.043788-73.272817 88.844467-95.785553 142.073786C76.837504 393.126612 65.014224 451.665867 65.014224 512.001023c0 60.33311 11.82328 118.873388 35.134195 173.989683 22.51376 53.230342 54.741765 101.029998 95.785553 142.073786 41.041742 41.043788 88.841398 73.27077 142.073786 95.785553 55.116295 23.311939 113.65555 35.134195 173.989683 35.134195s118.873388-11.822257 173.992753-35.134195c53.229319-22.514783 101.029998-54.742788 142.072763-95.785553 41.045835-41.043788 73.272817-88.843444 95.785553-142.073786 23.309892-55.116295 35.134195-113.656573 35.134195-173.989683C958.985776 451.665867 947.161473 393.127635 923.851581 338.007247zM887.891578 670.783353c-20.545942 48.575322-49.960879 92.203982-87.430258 129.676431-37.473473 37.470403-81.100086 66.88841-129.679501 87.432305-50.28015 21.263279-103.702873 32.047904-158.783353 32.047904-55.07741 0-108.500133-10.782577-158.785399-32.047904-48.575322-20.545942-92.203982-49.961902-129.676431-87.432305-37.47245-37.47245-66.88841-81.101109-87.430258-129.676431-21.267373-50.28015-32.050973-103.703897-32.050973-158.784376s10.783601-108.503203 32.050973-158.783353c20.541849-48.575322 49.958832-92.206028 87.430258-129.676431 37.47245-37.470403 81.101109-66.887386 129.676431-87.433328 50.285267-21.266349 103.70799-32.04995 158.785399-32.04995 50.600445 0 99.797937 9.107425 146.447397 27.074635-3.767813 10.514471-5.824659 21.842471-5.824659 33.653471 0 55.099922 44.667316 99.767238 99.767238 99.767238 24.573675 0 47.065945-8.889461 64.452941-23.620977 29.737278 33.372062 53.603849 71.037916 71.050196 112.285343 21.266349 50.28015 32.04995 103.702873 32.04995 158.783353S909.15895 620.503203 887.891578 670.783353z" /></svg>';
    //         title.innerHTML = '正在加载中';
    //         wrap.appendChild(title);
    //         this.wrapper.appendChild(wrap);
    //         tag.appendChild(this.wrapper);
    //         // console.log(this);
    //         this.show();
    //         this.event();
    //     },
    //     show: function(){
    //         this.wrapper.classList.remove('hide');
    //     },
    //     hide: function(){
    //         this.wrapper.classList.add('hide');
    //     },
    //     event: function(){
    //         var self = this;
    //         this.wrapper.addEventListener('click',function(){
    //             self.hide();
    //         });
    //     }
    // };
    w.$loading = m;
    // w.$protoLoading = Loading;
})(window);